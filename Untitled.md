Farg You, [29.12.2024 14:49]
# Техническое задание: Портал турецких сериалов

## 1. Общие сведения
### 1.1 Назначение системы
Разработка веб-портала для просмотра турецких сериалов с административной панелью управления контентом.

### 1.2 Целевая аудитория
- Пользователи, интересующиеся турецкими сериалами

## 2. Технический стек
### 2.1 Backend
- Node.js
- NestJS
- PostgreSQL
- TypeORM
- JWT для авторизации
- WebSocket для уведомлений
- Redis для кеширования
- Passport.js для OAuth
- @nestjs/passport

### 2.2 Frontend
- Next.js 14
- React
- TypeScript
- TailwindCSS
- React Query
- Zustand

### 2.3 Админ-панель
- React
- TypeScript
- Material UI / Ant Design
- React Query
- Redux Toolkit

## 3. Функциональные требования

### 3.1 Административная панель

#### 3.1.0 Уп  авление доменами
- Список подключенных доменов
- Для каждого домена:
  - Название сайта
  - Описание сайта
  - Логотип
  - Уникальные SEO настройки
  - Цветовая схема
  - Свой набор категорий
  - Возможность включения/отключения сериалов для конкретного домена
- Общая база сериалов для всех доменов
- Возможность копирования настроек с одного домена на другой

#### 3.1.1 Дашборд
- Выбор домена для просмотра статистики
- Статистика:
  - Количество пользователей
  - Количество сериалов
  - Количество комментариев
  - График регистраций за последний месяц
  - Статистика по каждому домену отдельно

#### 3.1.2 Управление сериалами
- Список сериалов с пагинацией и поиском
- CRUD операции для сериалов:
  - Название (на русском и турецком)
  - Описание
  - Год выпуска
  - Статус (Онгоинг/Завершен)
  - Постер
  - Категории
  - SEO-теги (title, description, keywords)
  - Автоматическая генерация URL-slug
- Управление эпизодами:
  - Добавление/редактирование/удаление серий/отключение серии 
  - Номер серии
  - Название серии
  - Видео-плеер (iframe)
  - Дата выхода

#### 3.1.3 Управление категориями
- CRUD операции для категорий
- Поля:
  - Название
  - Описание
  - SEO-теги
  - Slug

#### 3.1.4 Управление пользователями
- Список пользователей с фильтрацией и поиском
- Профиль пользователя:
  - Основная информация
  - Статистика активности
  - История рейтингов
  - История комментариев
  - Закладки
  - История просмотров
- Возможность блокировки/удаления пользователей

#### 3.1.5 Управление комментариями
- Список всех комментариев
- Модерация комментариев
- Возможность редактирования/удаления
- Фильтрация по сериалам/пользователям

#### 3.1.6 Настройки сайта
- Основные настройки:
  - Название сайта
  - Описание
- SEO настройки:
  - Meta-теги по умолчанию
  - Robots.txt
  - Sitemap настройки
  - Уникальные SEO настройки для каждого домена

#### 3.1.7 Парсер
- Интеграция с API источника
- Парсинг новых сериалов
- Парсинг новых серий
- Логирование процесса парсинга
- Статистика успешных/неуспешных парсингов

### 3.2 Пользовательская часть (Frontend)

#### 3.2.1 Главная страница
- Слайдер с популярными сериалами
- Блок с новыми сериями
- Категории сериалов
- Поиск по сайту
- Список популярных сериалов

#### 3.2.2 Страница сериала
- Информация о сериале
- Список серий с пагинацией
- Система рейтингов
- Комментарии
- Похожие сериалы
- Кнопки "В закладки" и "Досмотрено"

#### 3.2.3 Личный кабинет
- Профиль пользователя
- Закладки
- История просмотров
- История комментариев
- Настройки аккаунта

### 3.3 Система аутентификации
#### 3.3.1 Классическая регистрация
- Регистрация по email и паролю
- Подтверждение email
- Восстановление пароля

#### 3.3.2 OAuth авторизация тут на ваше усмотрение
- Интеграция с социальными сетями:
  - Telegram OAuth
  - VKontakte OAuth
  - Google OAuth
- Функционал для каждой соц. сети:
  - Привязка/отвязка аккаунта
  - Получение базовой информации (имя, аватар)
  - Автоматическое создание профиля при первом входе
- Объединение аккаунтов при наличии существующего пользователя

## 4. Требования к безопасности
- Защита от SQL-инъекций
- XSS защита
- CSRF защита
- Rate limiting
- Валидация входных данных
- Безопасное хранение паролей (bcrypt)
- JWT токены с refresh механизмом

Farg You, [29.12.2024 14:49]
## 5. Требования к производительности
- Время ответа API < 200ms
- Кеширование часто запрашиваемых данных
- Оптимизация изображений
- Lazy loading для списков
- Пагинация для больших списков

## 6. Требования к SEO
- Генерация sitemap.xml
- Настраиваемые meta-теги
- ЧПУ (человекопонятные URL)
- Оптимизация загрузки страниц
- Поддержка Open Graph тегов

## 7. Требования к развертыванию на разных доменах
### 7.1 Подготовка к развертыванию
- Создание сборки проекта для production
- Упаковка всех необходимых файлов и скриптов
- Создание скрипта для автоматической установки
- Подготовка инструкции по развертыванию

### 7.2 Процесс установки на новый домен
- Загрузка файлов на хостинг
- Создание новой базы данных
- Настройка конфигурации:
  - Подключение к базе данных
  - Настройка домена
  - Настройка SSL
- Запуск установочного скрипта

### 7.3 Первичная настройка
- Создание учетной записи администратора
- Настройка основных параметров сайта:
  - Название сайта
  - Описание
  - SEO параметры
- Настройка категорий